{"version":3,"sources":["components/Filter.js","components/Header.js","components/Form.js","components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","setFilter","value","onChange","event","target","Header","title","Form","onSubmit","newName","newNumber","handleNewNameChange","handleNewNumberChange","type","Person","person","deletePerson","name","number","onClick","id","Notification","className","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","personsToShow","toLowerCase","includes","notificationMessage","setNotificationMessage","notificationType","setNotificationType","useEffect","personService","createNotification","console","log","setTimeout","window","confirm","getAttribute","_","preventDefault","newPerson","foundPerson","find","map","p","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4cfafad1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter, setFilter }) => {\r\n    const handleFilterChange = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    return(\r\n        <div>filter shown with: <input value={filter} onChange={handleFilterChange}/></div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Header = ({ title }) => (<h2>{title}</h2>)\r\n\r\nexport default Header","import React from 'react'\r\n\r\nconst Form = ({ onSubmit, newName, newNumber, handleNewNameChange, handleNewNumberChange }) => {\r\n    return(\r\n        <form onSubmit={onSubmit}>\r\n            <div>name: <input value={newName} onChange={handleNewNameChange}/></div>\r\n            <div>number: <input value={newNumber} onChange={handleNewNumberChange}/></div>\r\n            <div><button type={'submit'}>add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => (\r\n    <li>\r\n        {person.name} {person.number} \r\n        <button onClick={deletePerson} id={person.id}>delete</button>\r\n    </li>\r\n)\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Notification = ({ className, message }) => {\r\n    const successStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    const styleMap = {\r\n        'success': successStyle,\r\n        'error': errorStyle\r\n    }\r\n\r\n    const notificationStyle = styleMap[className]\r\n    \r\n    return((message === null) ? null : <div style={notificationStyle} className={className}>{message}</div>)\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = 'https://fullstackopen-part3-rguitar96.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (person) => {\r\n    const request = axios.post(baseUrl, person)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (person) => {\r\n    const request = axios.put(`${baseUrl}/${person.id}`, person)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Header from './components/Header'\r\nimport Form from './components/Form'\r\nimport Person from './components/Person'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  \r\n  const [ filter, setFilter ] = useState('')\r\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\r\n  const [ notificationType, setNotificationType ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(persons => {\r\n        setPersons(persons)\r\n      })\r\n  }, [])\r\n\r\n  const addPhone = (event) => {\r\n      event.preventDefault()\r\n\r\n      const newPerson = {name: newName, number: newNumber}\r\n      const foundPerson = persons.find(person => person.name === newName)\r\n\r\n      if (foundPerson) {\r\n        if (!window.confirm(`${newPerson.name} is already in the phonebook, update?`)) return\r\n        newPerson['id'] = foundPerson.id\r\n\r\n        personService\r\n          .update(newPerson)\r\n          .then(data => {\r\n            setPersons(persons.map(p => {if (p.name === newName) return data; else return p}))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            createNotification(`Succesfully updated ${newPerson.name}`, 'success')\r\n          })\r\n          .catch(error => {\r\n            createNotification(`There was an error, ${newPerson.name} does not exist anymore.`, 'error')\r\n            setPersons(persons.filter(p => p.id !== newPerson.id))\r\n          })\r\n        return\r\n      }\r\n\r\n      personService\r\n        .create(newPerson)\r\n        .then(data => {\r\n          setPersons(persons.concat(data))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          createNotification(`Succesfully added ${newPerson.name}`, 'success')\r\n        })\r\n  }\r\n\r\n  const createNotification = (message, type) => {\r\n    console.log('Hi')\r\n    console.log(message)\r\n    setNotificationType(type)\r\n    setNotificationMessage(message)\r\n    setTimeout(() => {\r\n      setNotificationMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const handleNewNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNewNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n  \r\n  const deletePerson = (event) => {\r\n    if (window.confirm(`Are you sure to delete?`)) {\r\n      personService\r\n      .remove(event.target.getAttribute('id'))\r\n      .then(_ => {\r\n        setPersons(persons.filter(person => \r\n          (person.id != event.target.getAttribute('id'))\r\n        ))\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Header title='Phonebook' />\r\n      <Notification className={notificationType} message={notificationMessage} />\r\n      <Filter filter={filter} setFilter={setFilter}/>\r\n      <Header title='Add new' />\r\n      <Form onSubmit={addPhone} \r\n            newName={newName} \r\n            newNumber={newNumber} \r\n            handleNewNameChange={handleNewNameChange}\r\n            handleNewNumberChange={handleNewNumberChange} />\r\n      <Header title='Numbers' />\r\n\r\n      {personsToShow.map(person =>\r\n        <Person key={person.name} person={person} deletePerson={deletePerson} />\r\n      )}\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}